const sequelize = require('../db/db');
const User = require('../models/user');
const Post = require('../models/post');
const Comment = require('../models/comment');

describe('Comment model', () => {
    beforeAll(async () => {
        await sequelize.sync({ force: true });
    });

    afterAll(async () => {
        await sequelize.close();
    });

    it('should create a new comment successfully', async () => {
        const userData = {
            username: 'testuser',
            email: 'test@example.com',
            password: 'securePassword123'
        };

        const user = await User.create(userData);

        const postData = {
            title: 'Test Post',
            content: 'This is a test post content',
            userId: user.id
        };

        const post = await Post.create(postData);

        const commentData = {
            content: 'This is a test comment',
            postId: post.id,
            userId: user.id
        };

        const comment = await Comment.create(commentData);
        expect(comment.content).toBe(commentData.content);
    });

    // Add more test cases as needed
});